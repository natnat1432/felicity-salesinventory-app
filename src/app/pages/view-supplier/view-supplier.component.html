<app-loading *ngIf="isLoading"></app-loading>
<app-sidebar-content [page]="page" [view]="view">
  <button mat-stroked-button color="primary" (click)="navigateSuppliers()"><mat-icon>keyboard_backspace</mat-icon> Back
    to Suppliers</button>
  <br><br>
  <div class="content">
    <div class="view-superadmin" *ngIf="supplier_data != null">
      <div class="user-image-container">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png" alt=""
          draggable="false">
      </div>
      <br>
      <h3>Supplier Information</h3>
      <div class="view-user-actions" *ngIf="supplier_data.createdByEmail">
        <button mat-stroked-button color="warn" (click)="openDeleteSupplierDialog()"> <mat-icon>delete</mat-icon> Delete User</button>
      </div>
      <hr>
      <br>
      <button mat-stroked-button color="primary" (click)="openEditSupplierDialog()"><mat-icon>create</mat-icon> Edit</button> <br> <br>
      <mat-form-field>
        <mat-label>Supplier ID</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.id">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Supplier Code</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.code">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Registered Name</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.registered_name">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Landline</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.landline">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Business Address</mat-label>
        <textarea cols="30" rows="10" matInput readonly [(ngModel)]="supplier_data.business_address" ></textarea>
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Contact Person</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.contact_person">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Contact Person Mobile Number</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.contact_person_mobile">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Supply Category</mat-label>
        <input type="text" matInput readonly [(ngModel)]="supplier_data.supply_category">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Created By</mat-label>
        <input type="text" matInput readonly [value]="supplier_data.createdByEmail || 'Developer'">
      </mat-form-field>
      <mat-form-field >
        <mat-label>Created At</mat-label>
        <input type="text" matInput readonly [value]="datePipe.transform(supplier_data.createdAt, 'MMM d, yyyy h:mm a')">
      </mat-form-field>
    </div>
    <br>
    <div class="user-activity">
    <h3>Supplier Log History</h3>
    <hr>
    <br>
    <mat-accordion multi *ngIf="supplierLoggingData">
      <mat-expansion-panel *ngFor="let supplierlogging of supplierLoggingData">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{supplierlogging.logging_type}}
          </mat-panel-title>
          <mat-panel-description>
            By {{supplierlogging.createdByEmail}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p *ngFor="let desc of supplierlogging.description">
          {{desc}}
        </p>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  </div>
</app-sidebar-content>